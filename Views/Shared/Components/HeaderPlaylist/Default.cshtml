@model List<Newfactjo.Models.HeaderPlaylist>

<div id="headerSlider" class="text-center">
    @if (Model.Count > 0)
    {
        for (int i = 0; i < Model.Count; i++)
        {
            var item = Model[i];
            var isActive = i == 0 ? "" : "d-none";

            <div class="header-slide @isActive">
                <a href="@item.LinkUrl" target="_blank">
                    @if (item.MediaType == "image")
                    {
                        <img src="@item.MediaUrl" alt="صورة" class="topbar-image mid-image" />
                    }
                    else if (item.MediaType == "video")
                    {
                        <video autoplay muted loop class="topbar-image mid-image">
                            <source src="@item.MediaUrl" type="video/mp4" />
                            المتصفح لا يدعم تشغيل الفيديو.
                        </video>
                    }
                </a>
            </div>
        }
    }
</div>

<style>
    .header-slide {
        transition: opacity 0.5s ease;
    }
</style>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const slides = document.querySelectorAll(".header-slide");
        let index = 0;

        if (slides.length > 1) {
            setInterval(() => {
                slides[index].classList.add("d-none");
                index = (index + 1) % slides.length;
                slides[index].classList.remove("d-none");
            }, 5000); // كل 5 ثوانٍ
        }
    });
</script>
 
        